%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Set space between paragraphs -----------------------------------------------------
\newlength{\defaultparskip}% Save parskip
\newlength{\defaultparindent}% Save parindent
\setlength{\defaultparskip}{\parskip}% save the value
\setlength{\defaultparindent}{\parindent}% save the value
\newlength{\currentparskip}% Save parskip
\newlength{\currentparindent}% Save parindent
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% One page
\newcommand{\addstretch}[1]{\addtolength{#1}{\fill}}
\newenvironment{onepage}
{
	\setlength{\currentparskip}{\parskip}% save the value
	\setlength{\currentparindent}{\parindent}% save the value
	\newpage\flushbottom
	\addstretch{\baselineskip}
	\addstretch{\abovedisplayskip}
	\addstretch{\abovedisplayshortskip}
	\addstretch{\belowdisplayskip}
	\addstretch{\belowdisplayshortskip}
	\setlength{\parskip}{0pt}
}
{
	\newpage
	\setlength{\parskip}{\currentparskip}%
	\setlength{\parindent}{\currentparindent}%
}




\newenvironment{smini}%
{%
\setlength{\currentparskip}{\parskip}% save the value
\setlength{\currentparindent}{\parindent}% save the value
\noindent\begin{minipage}[c][\textheight][s]{\linewidth}%
\baselineskip=1\baselineskip plus 1fill% stretch as much as needed
\lineskip=0pt plus 1fill% just for safety
\setlength{\parskip}{\currentparskip}%
%\setlength{\parindent}{\currentparindent}%
}% restore the value
{\end{minipage}}%

%\newenvironment{mini}%
%{%
%\setlength{\currentparskip}{\parskip}% save the value
%\setlength{\currentparindent}{\parindent}% save the value
%\begin{minipage}[s][\textheight]{\linewidth}%
%\baselineskip=1\baselineskip plus 1fill% stretch as much as needed
%\lineskip=0pt plus 1fill% just for safety
%\setlength{\parskip}{\currentparskip}%
%%\setlength{\parindent}{\currentparindent}%
%}% restore the value
%{\end{minipage}}%

\newenvironment{imini}%
{%
\setlength{\currentparskip}{\parskip}% save the value
\setlength{\currentparindent}{\parindent}% save the value
\noindent%
\begin{minipage}[s][\textheight]{\linewidth}%
\baselineskip=1\baselineskip plus 1fill% stretch as much as needed
\lineskip=0pt plus 1fill% just for safety
\setlength{\parskip}{\currentparskip}%
\setlength{\parindent}{\currentparindent}%
}% restore the value
{\end{minipage}}%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


